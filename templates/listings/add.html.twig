{% extends "base.html.twig" %}
{% block title %}Add Listing
{% endblock %}
{% block header %}{% endblock %}
{% block importmap %}{{ importmap(['app', 'search', 'search-isbn', 'form']) }}{% endblock %}
{% block body %}
<h1>{% if book is defined %}
            Modifier l'annonce {{ book.title }}
        {% else %}
            Ajouter une Annonce
        {% endif %}</h1>
<section class="container">
<a class="navigation-btn" href="{{ path('home')}}">Accueil</a>
    {{ form_start(form, {'attr': {'class': 'add-form-class'}}) }}

    <div class="form-element">
        {{ form_label(form.cover,null, {'label_attr': {'class': 'required-label'}}) }}
        {{ form_widget(form.cover) }}
        {{ form_errors(form.cover) }}
        {% if book.cover is defined and book.cover is not null %}
        <img src="{{ vich_uploader_asset(book.cover) }}" alt="">
        {% endif %}
    </div>
    <div class="form-element">
        {{ form_label(form.back,null, {'label_attr': {'class': 'required-label'}}) }}
        {{ form_widget(form.back) }}
        {{ form_errors(form.back) }}
        {% set imageBackUrl = asset('/images/back.jpg') %}
        {% if book.back is defined and book.back is not null %}
            <img src="{{ vich_uploader_asset(book.back) }}" alt="">
        {% endif %}
    </div>
    <div class="form-element" id="isbnContainer">
        {{ form_label(form.isbn,null, {'label_attr': {'class': 'required-label'}}) }}
        {{ form_widget(form.isbn) }}
        {{ form_errors(form.isbn) }}
        <div id="showlist-isbn" class="show-isbn">
    <ul id="showresults-isbn">
    
    </ul>
    </div>
    </div>
<div class="form-element">
    {{ form_label(form.title,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.title) }}
    {{ form_errors(form.title) }}
</div>

<div class="form-element">
    {{ form_label(form.author,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.author) }}
    {{ form_errors(form.author) }}
</div>



<div class="form-element">
    {{ form_label(form.description,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.description) }}
    {{ form_errors(form.description) }}
</div>

<div class="form-element">
    {{ form_label(form.edition,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.edition) }}
    {{ form_errors(form.edition) }}
</div>



<div class="form-element">
    {{ form_label(form.pages,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.pages) }}
    {{ form_errors(form.pages) }}
</div>

<div class="form-element">
    {{ form_label(form.state,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.state) }}
    {{ form_errors(form.state) }}
</div>

<div class="form-element-type">
    {{ form_label(form.exchangeType,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.exchangeType) }}
    {{ form_errors(form.exchangeType) }}
</div>

<div class="form-element">
    {{ form_label(form.bookCategorie,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.bookCategorie) }}
    {{ form_errors(form.bookCategorie) }}
</div>
<div class="form-element" id="locationContainer">
    {{ form_label(form.location,null, {'label_attr': {'class': 'required-label'}}) }}
    {{ form_widget(form.location) }}
    {{ form_errors(form.location) }}
    <div id="showlist" class="show">
    <ul id="showresults">
    
    </ul>
    </div>
</div>

<button class="add-form-btn" type="submit">
{% if book is defined %}
                Modifier
            {% else %}
                Ajouter
            {% endif %}
</button>

{{ form_end(form) }}
<a class="navigation-btn" href="{{ path('listings_show')}}">Annonces</a>
</section>



{% endblock %}
{% block features %}{% endblock %}
{% block footer %}{% endblock %}
